import{r as a,n as L,j as e,C as I,L as k}from"./index-tA0Fh9L2.js";import{b as E,c as u,a as t}from"./index.es-tSi19v0_.js";import{a as P}from"./apiService-C4XhZ6hP.js";import{C as h,a as o}from"./CRow-Du1s4d2A.js";import{C as q}from"./CCardGroup-B6hD1yhK.js";import{C as j,a as C}from"./CCardBody-B0vhbcOS.js";import{C as A}from"./CForm-B9vQQDW7.js";import{C as F}from"./CAlert-DOZ4ZMM5.js";import{C as g,a as f}from"./CInputGroupText-CmM9yErj.js";import{c as G,a as R}from"./cil-user-Dlmw-Gem.js";import{C as y}from"./CFormInput-DR9ehIQK.js";import"./CCloseButton-Bv1Cq715.js";import"./CFormControlWrapper-3dU624QS.js";import"./CFormControlValidation-BzSKlCmQ.js";import"./CFormLabel-CX56Dc8q.js";const Y=()=>{const[i,b]=a.useState(""),[n,N]=a.useState(""),[l,c]=a.useState(""),[d,m]=a.useState(!1),w=L(),v=s=>{c(s)},S=async s=>{var p,x;s.preventDefault(),m(!0);try{const r=await P("POST","auth/login",{email:i,password:n});localStorage.setItem("token",r.data.access_token),w("/dashboard")}catch(r){console.error("Error logging in:",r),v(((x=(p=r.response)==null?void 0:p.data)==null?void 0:x.message)||"An error occurred. Please try again.")}finally{m(!1)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(E,{children:e.jsx(h,{className:"justify-content-center",children:e.jsx(o,{md:8,children:e.jsxs(q,{children:[e.jsx(j,{className:"p-4",children:e.jsx(C,{children:e.jsxs(A,{onSubmit:S,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),l&&e.jsx(F,{color:"danger",dismissible:!0,onClose:()=>c(""),children:l}),e.jsxs(g,{className:"mb-3",children:[e.jsx(f,{children:e.jsx(u,{icon:G})}),e.jsx(y,{type:"email",placeholder:"Email",autoComplete:"email",value:i,onChange:s=>b(s.target.value),required:!0})]}),e.jsxs(g,{className:"mb-4",children:[e.jsx(f,{children:e.jsx(u,{icon:R})}),e.jsx(y,{type:"password",placeholder:"Password",autoComplete:"current-password",value:n,onChange:s=>N(s.target.value),required:!0})]}),e.jsxs(h,{children:[e.jsx(o,{xs:6,children:e.jsx(t,{type:"submit",color:"primary",className:"px-4",disabled:d,children:d?e.jsx(I,{size:"sm"}):"Login"})}),e.jsx(o,{xs:6,className:"text-right",children:e.jsx(t,{color:"link",className:"px-0",children:"Forgot password?"})})]})]})})}),e.jsx(j,{className:"text-white bg-primary py-5",style:{width:"44%"},children:e.jsx(C,{className:"text-center",children:e.jsxs("div",{children:[e.jsx("h2",{children:"Sign up"}),e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),e.jsx(k,{to:"/register",children:e.jsx(t,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Register Now!"})})]})})})]})})})})})};export{Y as default};
