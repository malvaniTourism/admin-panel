import{r as a,o as N,j as e,L as v}from"./index-C2-u5VGj.js";import{b,c as l,a as t}from"./index.es-DOjMPA_K.js";import{C as d,a as o}from"./CRow-WBhZllJW.js";import{C as k}from"./CCardGroup-DXyCf_H3.js";import{C as m,a as p}from"./CCardBody-CCGqpgh_.js";import{C as L}from"./CForm-DtOIDmFO.js";import{C as x,a as h}from"./CInputGroupText-D4ESr86F.js";import{c as S,a as I}from"./cil-user-Dlmw-Gem.js";import{C as u}from"./CFormInput-DaoZthgO.js";import"./CFormControlWrapper-DaArQk6p.js";import"./CFormControlValidation-Co0Pip-r.js";import"./CFormLabel-BXjc0y76.js";const _=()=>{const[i,j]=a.useState(""),[n,C]=a.useState(""),[c,g]=a.useState(""),y=N(),f=async s=>{s.preventDefault();try{const r=await fetch("http://dev.tourkokan.com/admin/v2/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:n})});if(!r.ok)throw new Error("Invalid username or password");const w=await r.json();localStorage.setItem("token",w.data.access_token),y("/dashboard")}catch(r){g(r.message)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(b,{children:e.jsx(d,{className:"justify-content-center",children:e.jsx(o,{md:8,children:e.jsxs(k,{children:[e.jsx(m,{className:"p-4",children:e.jsx(p,{children:e.jsxs(L,{onSubmit:f,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),c&&e.jsx("p",{className:"text-danger",children:c}),e.jsxs(x,{className:"mb-3",children:[e.jsx(h,{children:e.jsx(l,{icon:S})}),e.jsx(u,{placeholder:"Username",autoComplete:"email",value:i,onChange:s=>j(s.target.value)})]}),e.jsxs(x,{className:"mb-4",children:[e.jsx(h,{children:e.jsx(l,{icon:I})}),e.jsx(u,{type:"password",placeholder:"Password",autoComplete:"current-password",value:n,onChange:s=>C(s.target.value)})]}),e.jsxs(d,{children:[e.jsx(o,{xs:6,children:e.jsx(t,{type:"submit",color:"primary",className:"px-4",children:"Login"})}),e.jsx(o,{xs:6,className:"text-right",children:e.jsx(t,{color:"link",className:"px-0",children:"Forgot password?"})})]})]})})}),e.jsx(m,{className:"text-white bg-primary py-5",style:{width:"44%"},children:e.jsx(p,{className:"text-center",children:e.jsxs("div",{children:[e.jsx("h2",{children:"Sign up"}),e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),e.jsx(v,{to:"/register",children:e.jsx(t,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Register Now!"})})]})})})]})})})})})};export{_ as default};
