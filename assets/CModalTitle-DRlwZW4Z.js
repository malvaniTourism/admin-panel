import{r as l,_ as f,R as r,a as u,c as v,P as o}from"./index-Ba_1EXRB.js";import{u as ne,T as re,C as te}from"./CCloseButton-CuNmWMcP.js";import{q as j,t as ae}from"./DefaultLayout-B3e2arlW.js";var k=l.forwardRef(function(e,i){var n=e.children,a=e.className,t=f(e,["children","className"]);return r.createElement("div",u({className:v("modal-content",a)},t,{ref:i}),n)});k.propTypes={children:o.node,className:o.string};k.displayName="CModalContent";var w=l.forwardRef(function(e,i){var n,a=e.children,t=e.alignment,c=e.className,d=e.fullscreen,p=e.scrollable,b=e.size,h=f(e,["children","alignment","className","fullscreen","scrollable","size"]);return r.createElement("div",u({className:v("modal-dialog",(n={"modal-dialog-centered":t==="center"},n[typeof d=="boolean"?"modal-fullscreen":"modal-fullscreen-".concat(d,"-down")]=d,n["modal-dialog-scrollable"]=p,n["modal-".concat(b)]=b,n),c)},h,{ref:i}),a)});w.propTypes={alignment:o.oneOf(["top","center"]),children:o.node,className:o.string,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),scrollable:o.bool,size:o.oneOf(["sm","lg","xl"])};w.displayName="CModalDialog";var q=l.createContext({}),I=l.forwardRef(function(e,i){var n=e.children,a=e.alignment,t=e.backdrop,c=t===void 0?!0:t,d=e.className,p=e.duration,b=p===void 0?150:p,h=e.focus,Q=h===void 0?!0:h,U=e.fullscreen,x=e.keyboard,W=x===void 0?!0:x,C=e.onClose,R=e.onClosePrevented,X=e.onShow,T=e.portal,O=T===void 0?!0:T,Y=e.scrollable,Z=e.size,M=e.transition,N=M===void 0?!0:M,P=e.unmountOnClose,$=P===void 0?!0:P,g=e.visible,_=f(e,["children","alignment","backdrop","className","duration","focus","fullscreen","keyboard","onClose","onClosePrevented","onShow","portal","scrollable","size","transition","unmountOnClose","visible"]),B=l.useRef(null),y=l.useRef(null),ee=l.useRef(null),oe=ne(i,y),z=l.useState(g),m=z[0],E=z[1],L=l.useState(!1),S=L[0],V=L[1],le={visible:m,setVisible:E};l.useEffect(function(){E(g)},[g]),l.useEffect(function(){var s;return m?(B.current=document.activeElement,document.addEventListener("mouseup",F),document.addEventListener("keydown",H)):(s=B.current)===null||s===void 0||s.focus(),function(){document.removeEventListener("mouseup",F),document.removeEventListener("keydown",H)}},[m]);var D=function(){return c==="static"?V(!0):(E(!1),C&&C())};l.useLayoutEffect(function(){R&&R(),setTimeout(function(){return V(!1)},b)},[S]),l.useLayoutEffect(function(){return m?(document.body.classList.add("modal-open"),c&&(document.body.style.overflow="hidden",document.body.style.paddingRight="0px"),setTimeout(function(){var s;Q&&((s=y.current)===null||s===void 0||s.focus())},N?b:0)):(document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))),function(){document.body.classList.remove("modal-open"),c&&(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))}},[m]);var F=function(s){y.current&&y.current==s.target&&D()},H=function(s){s.key==="Escape"&&W&&D()};return r.createElement(r.Fragment,null,r.createElement(re,{in:m,mountOnEnter:!0,nodeRef:y,onEnter:X,onExit:C,unmountOnExit:$,timeout:N?b:0},function(s){return r.createElement(j,{portal:O},r.createElement(q.Provider,{value:le},r.createElement("div",u({className:v("modal",{"modal-static":S,fade:N,show:s==="entered"},d),tabIndex:-1},m?{"aria-modal":!0,role:"dialog"}:{"aria-hidden":"true"},{style:u({},s!=="exited"&&{display:"block"})},_,{ref:oe}),r.createElement(w,{alignment:a,fullscreen:U,scrollable:Y,size:Z},r.createElement(k,{ref:ee},n)))))}),c&&r.createElement(j,{portal:O},r.createElement(ae,{visible:m})))});I.propTypes={alignment:o.oneOf(["top","center"]),backdrop:o.oneOfType([o.bool,o.oneOf(["static"])]),children:o.node,className:o.string,duration:o.number,focus:o.bool,fullscreen:o.oneOfType([o.bool,o.oneOf(["sm","md","lg","xl","xxl"])]),keyboard:o.bool,onClose:o.func,onClosePrevented:o.func,onShow:o.func,portal:o.bool,scrollable:o.bool,size:o.oneOf(["sm","lg","xl"]),transition:o.bool,unmountOnClose:o.bool,visible:o.bool};I.displayName="CModal";var K=l.forwardRef(function(e,i){var n=e.children,a=e.className,t=f(e,["children","className"]);return r.createElement("div",u({className:v("modal-body",a)},t,{ref:i}),n)});K.propTypes={children:o.node,className:o.string};K.displayName="CModalBody";var A=l.forwardRef(function(e,i){var n=e.children,a=e.className,t=f(e,["children","className"]);return r.createElement("div",u({className:v("modal-footer",a)},t,{ref:i}),n)});A.propTypes={children:o.node,className:o.string};A.displayName="CModalFooter";var G=l.forwardRef(function(e,i){var n=e.children,a=e.className,t=e.closeButton,c=t===void 0?!0:t,d=f(e,["children","className","closeButton"]),p=l.useContext(q).setVisible;return r.createElement("div",u({className:v("modal-header",a)},d,{ref:i}),n,c&&r.createElement(te,{onClick:function(){return p(!1)}}))});G.propTypes={children:o.node,className:o.string,closeButton:o.bool};G.displayName="CModalHeader";var J=l.forwardRef(function(e,i){var n=e.children,a=e.as,t=a===void 0?"h5":a,c=e.className,d=f(e,["children","as","className"]);return r.createElement(t,u({className:v("modal-title",c)},d,{ref:i}),n)});J.propTypes={as:o.elementType,children:o.node,className:o.string};J.displayName="CModalTitle";export{I as C,G as a,J as b,K as c,A as d};
