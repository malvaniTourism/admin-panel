import{r as n,j as e,C as T}from"./index-Dej_4v-i.js";import{C as N,a as i}from"./CRow-Bop8cQqr.js";import{C,a as u}from"./CCardBody-BsSH7XEX.js";import{C as P}from"./CCardHeader-Coninkxb.js";import{C as k}from"./CForm-BsXoU1t_.js";import{C as m}from"./CFormLabel-invUahTz.js";import{C as F}from"./CFormInput-BLup15JT.js";import{C as f}from"./CFormSelect-CImHL4XW.js";import{a as I}from"./index.es-DA6xP9Zs.js";import{C as _,a as z,b as g,c as r,d as D,e as a}from"./CTable-DERcEAx6.js";import{C as E,a as p}from"./CPaginationItem-CfOnd79_.js";import"./CFormControlWrapper-B6hBT3Zd.js";import"./CFormControlValidation-D1qcsSlM.js";const U=()=>{const[S,y]=n.useState([]),[c,d]=n.useState(1),[h,b]=n.useState(1),[v,j]=n.useState(!1);n.useEffect(()=>{w(c)},[c]);const w=async s=>{const o=localStorage.getItem("token"),x=new FormData;x.append("apitype","list"),x.append("category","city"),j(!0),console.log(o,"Token");try{const t=await fetch(`https://dev.tourkokan.com/admin/v2/sites?page=${s}`,{method:"POST",headers:{Authorization:`Bearer ${o}`},body:x});if(!t.ok)throw new Error("Network response was not ok");const l=await t.json();if(console.log("API response:",l),l&&l.data)y(l.data.data||[]),b(l.data.last_page||1);else throw new Error("Invalid data structure")}catch(t){console.error("Error fetching sites:",t)}finally{j(!1)}};return e.jsx(N,{children:e.jsx(i,{xs:12,children:e.jsxs(C,{className:"mb-4",children:[e.jsx(P,{children:e.jsx(i,{xs:12,children:e.jsx(C,{className:"mb-4",children:e.jsx(u,{children:e.jsxs(k,{className:"row gx-3 gy-2 align-items-center",children:[e.jsxs(i,{sm:3,children:[e.jsx(m,{className:"visually-hidden",htmlFor:"specificSizeInputName",children:"Name"}),e.jsx(F,{id:"specificSizeInputName",placeholder:"Jane Doe"})]}),e.jsxs(i,{sm:3,children:[e.jsx(m,{className:"visually-hidden",htmlFor:"specificSizeSelect",children:"Preference"}),e.jsxs(f,{id:"specificSizeSelect",children:[e.jsx("option",{children:"Category..."}),e.jsx("option",{value:"1",children:"One"}),e.jsx("option",{value:"2",children:"Two"}),e.jsx("option",{value:"3",children:"Three"})]})]}),e.jsxs(i,{sm:3,children:[e.jsx(m,{className:"visually-hidden",htmlFor:"specificSizeSelect",children:"Preference"}),e.jsxs(f,{id:"specificSizeSelect",children:[e.jsx("option",{children:"City..."}),e.jsx("option",{value:"1",children:"One"}),e.jsx("option",{value:"2",children:"Two"}),e.jsx("option",{value:"3",children:"Three"})]})]}),e.jsx(i,{xs:"auto",children:e.jsx(I,{color:"primary",type:"submit",children:"Submit"})})]})})})})}),e.jsxs(u,{children:[v?e.jsx(T,{color:"primary"}):e.jsxs(e.Fragment,{children:["            ",e.jsxs(_,{children:[e.jsx(z,{children:e.jsxs(g,{children:[e.jsx(r,{scope:"col",children:"#"}),e.jsx(r,{scope:"col",children:"Name"}),e.jsx(r,{scope:"col",children:"Category"}),e.jsx(r,{scope:"col",children:"Stop Type"}),e.jsx(r,{scope:"col",children:"Tag Line"}),e.jsx(r,{scope:"col",children:"Description"}),e.jsx(r,{scope:"col",children:"Domain Name"}),e.jsx(r,{scope:"col",children:"Status"}),e.jsx(r,{scope:"col",children:"Is Hot Place"}),e.jsx(r,{scope:"col",children:"Latitude"}),e.jsx(r,{scope:"col",children:"Longitude"})]})}),e.jsx(D,{children:S.map((s,o)=>e.jsxs(g,{children:[e.jsx(r,{scope:"row",children:o+1}),e.jsx(a,{children:s.name}),e.jsx(a,{children:s.category.name}),e.jsx(a,{children:s.bus_stop_type}),e.jsx(a,{children:s.tag_line}),e.jsx(a,{children:s.description}),e.jsx(a,{children:s.domain_name}),e.jsx(a,{children:s.status}),e.jsx(a,{children:s.is_hot_place}),e.jsx(a,{children:s.latitude}),e.jsx(a,{children:s.longitude})]},s.id))})]})]}),e.jsxs(E,{"aria-label":"Page navigation example",children:[e.jsx(p,{disabled:c===1,onClick:()=>d(s=>Math.max(s-1,1)),children:"Previous"}),Array.from({length:h},(s,o)=>e.jsx(p,{active:o+1===c,onClick:()=>d(o+1),children:o+1},o+1)),e.jsx(p,{disabled:c===h,onClick:()=>d(s=>Math.min(s+1,h)),children:"Next"})]})]})]})})})};export{U as default};
