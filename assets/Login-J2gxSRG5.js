import{r as a,n as L,j as e,C as I,L as k}from"./index-DXNJ3qnV.js";import{b as E,c as h,a as t}from"./index.es-BUvWMQbl.js";import{a as P}from"./apiService-DwPsU87-.js";import{C as j,a as o}from"./CRow-DqZ2pQlZ.js";import{C as q}from"./CCardGroup-BSWndFZ8.js";import{C as g,a as C}from"./CCardBody-D9GuwQFG.js";import{C as A}from"./CForm-D29Y_Nzf.js";import{C as F}from"./CAlert-CqvdhHvX.js";import{C as f,a as y}from"./CInputGroupText-YQ2Bzrdm.js";import{c as G,a as R}from"./cil-user-Dlmw-Gem.js";import{C as w}from"./CFormInput-Ds5scf-H.js";import"./CCloseButton-X9YeYwqf.js";import"./CFormControlWrapper-BFDM-HEL.js";import"./CFormControlValidation-DujVE23N.js";import"./CFormLabel-CjNZ9pG4.js";const Y=()=>{const[i,b]=a.useState(""),[n,N]=a.useState(""),[l,c]=a.useState(""),[d,m]=a.useState(!1),v=L(),p=r=>{c(r)},S=async r=>{var x,u;r.preventDefault(),m(!0);try{const s=await P("POST","auth/login",{email:i,password:n});if(s.success==!1){p((s==null?void 0:s.message)||"Something went wrong");return}localStorage.setItem("token",s.data.access_token),v("/dashboard")}catch(s){console.error("Error logging in:",s),p(((u=(x=s.response)==null?void 0:x.data)==null?void 0:u.message)||"An error occurred. Please try again.")}finally{m(!1)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(E,{children:e.jsx(j,{className:"justify-content-center",children:e.jsx(o,{md:8,children:e.jsxs(q,{children:[e.jsx(g,{className:"p-4",children:e.jsx(C,{children:e.jsxs(A,{onSubmit:S,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),l&&e.jsx(F,{color:"danger",dismissible:!0,onClose:()=>c(""),children:l}),e.jsxs(f,{className:"mb-3",children:[e.jsx(y,{children:e.jsx(h,{icon:G})}),e.jsx(w,{type:"email",placeholder:"Email",autoComplete:"email",value:i,onChange:r=>b(r.target.value),required:!0})]}),e.jsxs(f,{className:"mb-4",children:[e.jsx(y,{children:e.jsx(h,{icon:R})}),e.jsx(w,{type:"password",placeholder:"Password",autoComplete:"current-password",value:n,onChange:r=>N(r.target.value),required:!0})]}),e.jsxs(j,{children:[e.jsx(o,{xs:6,children:e.jsx(t,{type:"submit",color:"primary",className:"px-4",disabled:d,children:d?e.jsx(I,{size:"sm"}):"Login"})}),e.jsx(o,{xs:6,className:"text-right",children:e.jsx(t,{color:"link",className:"px-0",children:"Forgot password?"})})]})]})})}),e.jsx(g,{className:"text-white bg-primary py-5",style:{width:"44%"},children:e.jsx(C,{className:"text-center",children:e.jsxs("div",{children:[e.jsx("h2",{children:"Sign up"}),e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),e.jsx(k,{to:"/register",children:e.jsx(t,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Register Now!"})})]})})})]})})})})})};export{Y as default};
