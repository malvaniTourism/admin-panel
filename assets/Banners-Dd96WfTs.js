import{r as t,j as e,C as b}from"./index-DXNJ3qnV.js";import{C as N,a as o}from"./CRow-DqZ2pQlZ.js";import{C as p,a as C}from"./CCardBody-D9GuwQFG.js";import{C as P}from"./CCardHeader-BHjmFolr.js";import{C as T}from"./CForm-D29Y_Nzf.js";import{C as m}from"./CFormLabel-CjNZ9pG4.js";import{C as k}from"./CFormInput-Ds5scf-H.js";import{C as u}from"./CFormSelect--SgC9QgV.js";import{a as B}from"./index.es-BUvWMQbl.js";import{C as I,a as F,b as f,c as r,d as z,e as a}from"./CTable-CaVMF9Hm.js";import{C as E,a as x}from"./CPaginationItem-CqzUEHH7.js";import"./CFormControlWrapper-BFDM-HEL.js";import"./CFormControlValidation-DujVE23N.js";const Q=()=>{const[g,S]=t.useState([]),[l,d]=t.useState(1),[h,v]=t.useState(1),[y,j]=t.useState(!1);t.useEffect(()=>{w(l)},[l]);const w=async s=>{const i=localStorage.getItem("token");j(!0);try{const c=await fetch(`https://dev.tourkokan.com/admin/v2/listBanners?page=${s}`,{method:"POST",headers:{Authorization:`Bearer ${i}`}});if(!c.ok)throw new Error("Network response was not ok");const n=await c.json();if(console.log("API response:",n),n&&n.data)S(n.data.data||[]),v(n.data.last_page||1);else throw new Error("Invalid data structure")}catch(c){console.error("Error fetching banners:",c)}finally{j(!1)}};return e.jsx(N,{children:e.jsx(o,{xs:12,children:e.jsxs(p,{className:"mb-4",children:[e.jsx(P,{children:e.jsx(o,{xs:12,children:e.jsx(p,{className:"mb-4",children:e.jsx(C,{children:e.jsxs(T,{className:"row gx-3 gy-2 align-items-center",children:[e.jsxs(o,{sm:3,children:[e.jsx(m,{className:"visually-hidden",htmlFor:"specificSizeInputName",children:"Name"}),e.jsx(k,{id:"specificSizeInputName",placeholder:"Jane Doe"})]}),e.jsxs(o,{sm:3,children:[e.jsx(m,{className:"visually-hidden",htmlFor:"specificSizeSelect",children:"Preference"}),e.jsxs(u,{id:"specificSizeSelect",children:[e.jsx("option",{children:"Category..."}),e.jsx("option",{value:"1",children:"One"}),e.jsx("option",{value:"2",children:"Two"}),e.jsx("option",{value:"3",children:"Three"})]})]}),e.jsxs(o,{sm:3,children:[e.jsx(m,{className:"visually-hidden",htmlFor:"specificSizeSelect",children:"Preference"}),e.jsxs(u,{id:"specificSizeSelect",children:[e.jsx("option",{children:"City..."}),e.jsx("option",{value:"1",children:"One"}),e.jsx("option",{value:"2",children:"Two"}),e.jsx("option",{value:"3",children:"Three"})]})]}),e.jsx(o,{xs:"auto",children:e.jsx(B,{color:"primary",type:"submit",children:"Submit"})})]})})})})}),e.jsx(C,{children:y?e.jsx(b,{color:"primary"}):e.jsxs(e.Fragment,{children:[e.jsxs(I,{children:[e.jsx(F,{children:e.jsxs(f,{children:[e.jsx(r,{scope:"col",children:"#"}),e.jsx(r,{scope:"col",children:"Name"}),e.jsx(r,{scope:"col",children:"Image"}),e.jsx(r,{scope:"col",children:"Start Date"}),e.jsx(r,{scope:"col",children:"Duration"}),e.jsx(r,{scope:"col",children:"Level"}),e.jsx(r,{scope:"col",children:"Image Orientation"}),e.jsx(r,{scope:"col",children:"Status"}),e.jsx(r,{scope:"col",children:"Banner Owner"}),e.jsx(r,{scope:"col",children:"Banner Owner Category"})]})}),e.jsx(z,{children:g.map((s,i)=>e.jsxs(f,{children:[e.jsx(r,{scope:"row",children:i+1}),e.jsx(a,{children:s.name}),e.jsx(a,{children:s.image}),e.jsx(a,{children:s.start_date}),e.jsx(a,{children:s.duration}),e.jsx(a,{children:s.level}),e.jsx(a,{children:s.image_orientation}),e.jsx(a,{children:s.status?"true":"false"}),e.jsx(a,{children:s.bannerable.name}),e.jsx(a,{children:s.bannerable.category.name})]},s.id))})]}),e.jsxs(E,{"aria-label":"Page navigation example",children:[e.jsx(x,{disabled:l===1,onClick:()=>d(s=>Math.max(s-1,1)),children:"Previous"}),Array.from({length:h},(s,i)=>e.jsx(x,{active:i+1===l,onClick:()=>d(i+1),children:i+1},i+1)),e.jsx(x,{disabled:l===h,onClick:()=>d(s=>Math.min(s+1,h)),children:"Next"})]})]})})]})})})};export{Q as default};
